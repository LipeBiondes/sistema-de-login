<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <title>Login</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <h1>Login</h1>

      <form id="login-form" action="login.php" method="post">
        <label for="username">Usuário:</label>
        <input type="text" id="username" name="username" required />

        <label for="password">Senha:</label>
        <input type="password" id="password" name="password" required />

        <div id="error-message" class="error-message"></div>
        <div id="success-message" class="success-message"></div>

        <a href="recuperar_senha.php">Esqueceu a senha?</a>
        <button type="submit">Entrar</button>
      </form>

      <a href="cadastro.php">Cadastre-se aqui</a>
    </div>

    <script>
      const urlParams = new URLSearchParams(window.location.search)
      const errorMessage = urlParams.get('error')
      const emailMessage = urlParams.get('email')
      const successMessage = urlParams.get('success')

      // Se houver uma mensagem de erro, exiba-a
      if (errorMessage) {
        const errorMessageDiv = document.getElementById('error-message')
        errorMessageDiv.textContent = errorMessage
        errorMessageDiv.style.display = 'block'
      }

      // Preencha o campo de e-mail se ele estiver presente
      if (emailMessage) {
        const emailInput = document.getElementById('username')
        emailInput.value = emailMessage
      }

      if (successMessage) {
        const successMessageDiv = document.getElementById('success-message')
        successMessageDiv.textContent = successMessage
        successMessageDiv.style.color = 'green' // Cor verde para indicar sucesso
        successMessageDiv.style.marginTop = '10px' // Adiciona um espaço acima da mensagem
        successMessageDiv.style.fontWeight = 'bold' // Torna o texto em negrito

        setTimeout(function() {
        successMessageDiv.textContent = ''; // Limpa o conteúdo da mensagem
    }, 3000);
      }
    </script>
  </body>
</html>
